var P=Object.defineProperty;var B=(l,n,r)=>n in l?P(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;var b=(l,n,r)=>(B(l,typeof n!="symbol"?n+"":n,r),r),C=(l,n,r)=>{if(!n.has(l))throw TypeError("Cannot "+r)};var S=(l,n,r)=>{if(n.has(l))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(l):n.set(l,r)};var z=(l,n,r)=>(C(l,n,"access private method"),r);import{marked as marked$1}from"https://npm.elemecdn.com/marked/lib/marked.esm.js";import mermaid from"https://npm.elemecdn.com/mermaid@10/dist/mermaid.esm.min.mjs";import hljs from"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/es/highlight.min.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const header="",aboutBox$1="",clueParser$1="",githubMarkdownCss="",default_min="",dragFile=()=>{let l=document.getElementById("md-area"),n="#c4c4c482",r="#cc0000",t="#f5f5f5";l.addEventListener("dragenter",function(){l.style.background=n},!1),l.addEventListener("dragleave",function(){l.style.background=t,allInit()},!1),l.addEventListener("dragover",function(i){i.preventDefault()},!1),l.addEventListener("drop",function(i){i.preventDefault(),l.style.background=t;try{let s=new FileReader,a=i.dataTransfer.files[0];console.log(a);let o=a.name.split(".");o=o[o.length-1],o=="bat"||o=="txt"||o=="md"||o=="js"||o=="html"||o=="css"?(s.onload=function(){console.log("上传成功"),l.value=this.result,mdConverter(!0)},s.onerror=function(){console.log("上传失败")},s.readAsText(a)):(l.style.color=r,o=="lnk"?l.value="错误的文件格式: "+o+" ,请不要直接拖拽快捷方式！":l.value="错误的文件格式: "+o+" ,仅支持txt/md/html/js/css/bat",kit.sleep(2e3).then(()=>{l.style.color="",fillInRemeText()}).catch(c=>{}))}catch(s){console.log(s)}},!1)};function getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let defaults=getDefaults();function changeDefaults(l){defaults=l}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=l=>escapeReplacements[l];function escape(l,n){if(n){if(escapeTest.test(l))return l.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(l))return l.replace(escapeReplaceNoEncode,getEscapeReplacement);return l}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape(l){return l.replace(unescapeTest,(n,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(l,n){l=typeof l=="string"?l:l.source,n=n||"";const r={replace:(t,i)=>(i=i.source||i,i=i.replace(caret,"$1"),l=l.replace(t,i),r),getRegex:()=>new RegExp(l,n)};return r}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(l,n,r){if(l){let t;try{t=decodeURIComponent(unescape(r)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}n&&!originIndependentUrl.test(r)&&(r=resolveUrl(n,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch{return null}return r}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(l,n){baseUrls[" "+l]||(justDomain.test(l)?baseUrls[" "+l]=l+"/":baseUrls[" "+l]=rtrim(l,"/",!0)),l=baseUrls[" "+l];const r=l.indexOf(":")===-1;return n.substring(0,2)==="//"?r?n:l.replace(protocol,"$1")+n:n.charAt(0)==="/"?r?n:l.replace(domain,"$1")+n:l+n}const noopTest={exec:function(){}};function splitCells(l,n){const r=l.replace(/\|/g,(s,a,o)=>{let c=!1,h=a;for(;--h>=0&&o[h]==="\\";)c=!c;return c?"|":" |"}),t=r.split(/ \|/);let i=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;i<t.length;i++)t[i]=t[i].trim().replace(/\\\|/g,"|");return t}function rtrim(l,n,r){const t=l.length;if(t===0)return"";let i=0;for(;i<t;){const s=l.charAt(t-i-1);if(s===n&&!r)i++;else if(s!==n&&r)i++;else break}return l.slice(0,t-i)}function findClosingBracket(l,n){if(l.indexOf(n[1])===-1)return-1;const r=l.length;let t=0,i=0;for(;i<r;i++)if(l[i]==="\\")i++;else if(l[i]===n[0])t++;else if(l[i]===n[1]&&(t--,t<0))return i;return-1}function checkDeprecations(l,n){!l||l.silent||(n&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(l.sanitize||l.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(l.highlight||l.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),l.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),l.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),l.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),l.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(l.headerIds||l.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function outputLink(l,n,r,t){const i=n.href,s=n.title?escape(n.title):null,a=l[1].replace(/\\([\[\]])/g,"$1");if(l[0].charAt(0)!=="!"){t.state.inLink=!0;const o={type:"link",raw:r,href:i,title:s,text:a,tokens:t.inlineTokens(a)};return t.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:s,text:escape(a)}}function indentCodeCompensation(l,n){const r=l.match(/^(\s+)(?:```)/);if(r===null)return n;const t=r[1];return n.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[a]=s;return a.length>=t.length?i.slice(t.length):i}).join(`
`)}class Tokenizer{constructor(n){this.options=n||defaults}space(n){const r=this.rules.block.newline.exec(n);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(n){const r=this.rules.block.code.exec(n);if(r){const t=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?t:rtrim(t,`
`)}}}fences(n){const r=this.rules.block.fences.exec(n);if(r){const t=r[0],i=indentCodeCompensation(t,r[3]||"");return{type:"code",raw:t,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:i}}}heading(n){const r=this.rules.block.heading.exec(n);if(r){let t=r[2].trim();if(/#$/.test(t)){const i=rtrim(t,"#");(this.options.pedantic||!i||/ $/.test(i))&&(t=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){const r=this.rules.block.hr.exec(n);if(r)return{type:"hr",raw:r[0]}}blockquote(n){const r=this.rules.block.blockquote.exec(n);if(r){const t=r[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(t);return this.lexer.state.top=i,{type:"blockquote",raw:r[0],tokens:s,text:t}}}list(n){let r=this.rules.block.list.exec(n);if(r){let t,i,s,a,o,c,h,d,g,p,u,k,x=r[1].trim();const T=x.length>1,f={type:"list",raw:"",ordered:T,start:T?+x.slice(0,-1):"",loose:!1,items:[]};x=T?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=T?x:"[*+-]");const m=new RegExp(`^( {0,3}${x})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;n&&(k=!1,!(!(r=m.exec(n))||this.rules.block.hr.test(n)));){if(t=r[0],n=n.substring(t.length),d=r[2].split(`
`,1)[0].replace(/^\t+/,$=>" ".repeat(3*$.length)),g=n.split(`
`,1)[0],this.options.pedantic?(a=2,u=d.trimLeft()):(a=r[2].search(/[^ ]/),a=a>4?1:a,u=d.slice(a),a+=r[1].length),c=!1,!d&&/^ *$/.test(g)&&(t+=g+`
`,n=n.substring(g.length+1),k=!0),!k){const $=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),y=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),v=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;n&&(p=n.split(`
`,1)[0],g=p,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(y.test(g)||v.test(g)||$.test(g)||w.test(n)));){if(g.search(/[^ ]/)>=a||!g.trim())u+=`
`+g.slice(a);else{if(c||d.search(/[^ ]/)>=4||y.test(d)||v.test(d)||w.test(d))break;u+=`
`+g}!c&&!g.trim()&&(c=!0),t+=p+`
`,n=n.substring(p.length+1),d=g.slice(a)}}f.loose||(h?f.loose=!0:/\n *\n *$/.test(t)&&(h=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(u),i&&(s=i[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:t,task:!!i,checked:s,loose:!1,text:u}),f.raw+=t}f.items[f.items.length-1].raw=t.trimRight(),f.items[f.items.length-1].text=u.trimRight(),f.raw=f.raw.trimRight();const _=f.items.length;for(o=0;o<_;o++)if(this.lexer.state.top=!1,f.items[o].tokens=this.lexer.blockTokens(f.items[o].text,[]),!f.loose){const $=f.items[o].tokens.filter(y=>y.type==="space"),w=$.length>0&&$.some(y=>/\n.*\n/.test(y.raw));f.loose=w}if(f.loose)for(o=0;o<_;o++)f.items[o].loose=!0;return f}}html(n){const r=this.rules.block.html.exec(n);if(r){const t={type:"html",block:!0,raw:r[0],pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(r[0]):escape(r[0]);t.type="paragraph",t.text=i,t.tokens=this.lexer.inline(i)}return t}}def(n){const r=this.rules.block.def.exec(n);if(r){const t=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:t,raw:r[0],href:i,title:s}}}table(n){const r=this.rules.block.table.exec(n);if(r){const t={type:"table",header:splitCells(r[1]).map(i=>({text:i})),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){t.raw=r[0];let i=t.align.length,s,a,o,c;for(s=0;s<i;s++)/^ *-+: *$/.test(t.align[s])?t.align[s]="right":/^ *:-+: *$/.test(t.align[s])?t.align[s]="center":/^ *:-+ *$/.test(t.align[s])?t.align[s]="left":t.align[s]=null;for(i=t.rows.length,s=0;s<i;s++)t.rows[s]=splitCells(t.rows[s],t.header.length).map(h=>({text:h}));for(i=t.header.length,a=0;a<i;a++)t.header[a].tokens=this.lexer.inline(t.header[a].text);for(i=t.rows.length,a=0;a<i;a++)for(c=t.rows[a],o=0;o<c.length;o++)c[o].tokens=this.lexer.inline(c[o].text);return t}}}lheading(n){const r=this.rules.block.lheading.exec(n);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(n){const r=this.rules.block.paragraph.exec(n);if(r){const t=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:t,tokens:this.lexer.inline(t)}}}text(n){const r=this.rules.block.text.exec(n);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(n){const r=this.rules.inline.escape.exec(n);if(r)return{type:"escape",raw:r[0],text:escape(r[1])}}tag(n){const r=this.rules.inline.tag.exec(n);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):escape(r[0]):r[0]}}link(n){const r=this.rules.inline.link.exec(n);if(r){const t=r[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const a=rtrim(t.slice(0,-1),"\\");if((t.length-a.length)%2===0)return}else{const a=findClosingBracket(r[2],"()");if(a>-1){const c=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(t)?i=i.slice(1):i=i.slice(1,-1)),outputLink(r,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(n,r){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let i=(t[2]||t[1]).replace(/\s+/g," ");if(i=r[i.toLowerCase()],!i){const s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return outputLink(t,i,t[0],this.lexer)}}emStrong(n,r,t=""){let i=this.rules.inline.emStrong.lDelim.exec(n);if(!i||i[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const a=i[0].length-1;let o,c,h=a,d=0;const g=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,r=r.slice(-1*n.length+a);(i=g.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(c=o.length,i[3]||i[4]){h+=c;continue}else if((i[5]||i[6])&&a%3&&!((a+c)%3)){d+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+d);const p=n.slice(0,a+i.index+c+1);if(Math.min(a,c)%2){const k=p.slice(1,-1);return{type:"em",raw:p,text:k,tokens:this.lexer.inlineTokens(k)}}const u=p.slice(2,-2);return{type:"strong",raw:p,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(n){const r=this.rules.inline.code.exec(n);if(r){let t=r[2].replace(/\n/g," ");const i=/[^ ]/.test(t),s=/^ /.test(t)&&/ $/.test(t);return i&&s&&(t=t.substring(1,t.length-1)),t=escape(t,!0),{type:"codespan",raw:r[0],text:t}}}br(n){const r=this.rules.inline.br.exec(n);if(r)return{type:"br",raw:r[0]}}del(n){const r=this.rules.inline.del.exec(n);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(n,r){const t=this.rules.inline.autolink.exec(n);if(t){let i,s;return t[2]==="@"?(i=escape(this.options.mangle?r(t[1]):t[1]),s="mailto:"+i):(i=escape(t[1]),s=i),{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(n,r){let t;if(t=this.rules.inline.url.exec(n)){let i,s;if(t[2]==="@")i=escape(this.options.mangle?r(t[0]):t[0]),s="mailto:"+i;else{let a;do a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(a!==t[0]);i=escape(t[0]),t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(n,r){const t=this.rules.inline.text.exec(n);if(t){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):escape(t[0]):t[0]:i=escape(this.options.smartypants?r(t[0]):t[0]),{type:"text",raw:t[0],text:i}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d{1,9}[.)])/;block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block.lheading=edit(block.lheading).replace(/bull/g,block.bullet).getRegex();block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal={...block};block.gfm={...block.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.pedantic={...block.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function smartypants(l){return l.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(l){let n="",r,t;const i=l.length;for(r=0;r<i;r++)t=l.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}class Lexer{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||defaults,this.options.tokenizer=this.options.tokenizer||new Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:block.normal,inline:inline.normal};this.options.pedantic?(r.block=block.pedantic,r.inline=inline.pedantic):this.options.gfm&&(r.block=block.gfm,this.options.breaks?r.inline=inline.breaks:r.inline=inline.gfm),this.tokenizer.rules=r}static get rules(){return{block,inline}}static lex(n,r){return new Lexer(r).lex(n)}static lexInline(n,r){return new Lexer(r).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);let r;for(;r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(n,r=[]){this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,(o,c,h)=>c+"    ".repeat(h.length));let t,i,s,a;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(t=o.call({lexer:this},n,r))?(n=n.substring(t.raw.length),r.push(t),!0):!1))){if(t=this.tokenizer.space(n)){n=n.substring(t.raw.length),t.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(t);continue}if(t=this.tokenizer.code(n)){n=n.substring(t.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(t);continue}if(t=this.tokenizer.fences(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.heading(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.hr(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.blockquote(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.list(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.html(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.def(n)){n=n.substring(t.raw.length),i=r[r.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.lheading(n)){n=n.substring(t.raw.length),r.push(t);continue}if(s=n,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const c=n.slice(1);let h;this.options.extensions.startBlock.forEach(function(d){h=d.call({lexer:this},c),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(s=n.substring(0,o+1))}if(this.state.top&&(t=this.tokenizer.paragraph(s))){i=r[r.length-1],a&&i.type==="paragraph"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(t),a=s.length!==n.length,n=n.substring(t.raw.length);continue}if(t=this.tokenizer.text(n)){n=n.substring(t.raw.length),i=r[r.length-1],i&&i.type==="text"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):r.push(t);continue}if(n){const o="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(n,r=[]){return this.inlineQueue.push({src:n,tokens:r}),r}inlineTokens(n,r=[]){let t,i,s,a=n,o,c,h;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;n;)if(c||(h=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(t=d.call({lexer:this},n,r))?(n=n.substring(t.raw.length),r.push(t),!0):!1))){if(t=this.tokenizer.escape(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.tag(n)){n=n.substring(t.raw.length),i=r[r.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):r.push(t);continue}if(t=this.tokenizer.link(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(t.raw.length),i=r[r.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):r.push(t);continue}if(t=this.tokenizer.emStrong(n,a,h)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.codespan(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.br(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.del(n)){n=n.substring(t.raw.length),r.push(t);continue}if(t=this.tokenizer.autolink(n,mangle)){n=n.substring(t.raw.length),r.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(n,mangle))){n=n.substring(t.raw.length),r.push(t);continue}if(s=n,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const g=n.slice(1);let p;this.options.extensions.startInline.forEach(function(u){p=u.call({lexer:this},g),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(s=n.substring(0,d+1))}if(t=this.tokenizer.inlineText(s,smartypants)){n=n.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(h=t.raw.slice(-1)),c=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):r.push(t);continue}if(n){const d="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}}class Renderer{constructor(n){this.options=n||defaults}code(n,r,t){const i=(r||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(n,i);s!=null&&s!==n&&(t=!0,n=s)}return n=n.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+escape(i)+'">'+(t?n:escape(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:escape(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
${n}</blockquote>
`}html(n,r){return n}heading(n,r,t,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(t);return`<h${r} id="${s}">${n}</h${r}>
`}return`<h${r}>${n}</h${r}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(n,r,t){const i=r?"ol":"ul",s=r&&t!==1?' start="'+t+'"':"";return"<"+i+s+`>
`+n+"</"+i+`>
`}listitem(n){return`<li>${n}</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>
`}table(n,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow(n){return`<tr>
${n}</tr>
`}tablecell(n,r){const t=r.header?"th":"td";return(r.align?`<${t} align="${r.align}">`:`<${t}>`)+n+`</${t}>
`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,r,t){if(n=cleanUrl(this.options.sanitize,this.options.baseUrl,n),n===null)return t;let i='<a href="'+n+'"';return r&&(i+=' title="'+r+'"'),i+=">"+t+"</a>",i}image(n,r,t){if(n=cleanUrl(this.options.sanitize,this.options.baseUrl,n),n===null)return t;let i=`<img src="${n}" alt="${t}"`;return r&&(i+=` title="${r}"`),i+=this.options.xhtml?"/>":">",i}text(n){return n}}class TextRenderer{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,r,t){return""+t}image(n,r,t){return""+t}br(){return""}}class Slugger{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,r){let t=n,i=0;if(this.seen.hasOwnProperty(t)){i=this.seen[n];do i++,t=n+"-"+i;while(this.seen.hasOwnProperty(t))}return r||(this.seen[n]=i,this.seen[t]=0),t}slug(n,r={}){const t=this.serialize(n);return this.getNextSafeSlug(t,r.dryrun)}}class Parser{constructor(n){this.options=n||defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TextRenderer,this.slugger=new Slugger}static parse(n,r){return new Parser(r).parse(n)}static parseInline(n,r){return new Parser(r).parseInline(n)}parse(n,r=!0){let t="",i,s,a,o,c,h,d,g,p,u,k,x,T,f,m,_,$,w,y;const v=n.length;for(i=0;i<v;i++){if(u=n[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(y=this.options.extensions.renderers[u.type].call({parser:this},u),y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type))){t+=y||"";continue}switch(u.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{t+=this.renderer.heading(this.parseInline(u.tokens),u.depth,unescape(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue}case"code":{t+=this.renderer.code(u.text,u.lang,u.escaped);continue}case"table":{for(g="",d="",o=u.header.length,s=0;s<o;s++)d+=this.renderer.tablecell(this.parseInline(u.header[s].tokens),{header:!0,align:u.align[s]});for(g+=this.renderer.tablerow(d),p="",o=u.rows.length,s=0;s<o;s++){for(h=u.rows[s],d="",c=h.length,a=0;a<c;a++)d+=this.renderer.tablecell(this.parseInline(h[a].tokens),{header:!1,align:u.align[a]});p+=this.renderer.tablerow(d)}t+=this.renderer.table(g,p);continue}case"blockquote":{p=this.parse(u.tokens),t+=this.renderer.blockquote(p);continue}case"list":{for(k=u.ordered,x=u.start,T=u.loose,o=u.items.length,p="",s=0;s<o;s++)m=u.items[s],_=m.checked,$=m.task,f="",m.task&&(w=this.renderer.checkbox(_),T?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=w+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=w+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:w}):f+=w),f+=this.parse(m.tokens,T),p+=this.renderer.listitem(f,$,_);t+=this.renderer.list(p,k,x);continue}case"html":{t+=this.renderer.html(u.text,u.block);continue}case"paragraph":{t+=this.renderer.paragraph(this.parseInline(u.tokens));continue}case"text":{for(p=u.tokens?this.parseInline(u.tokens):u.text;i+1<v&&n[i+1].type==="text";)u=n[++i],p+=`
`+(u.tokens?this.parseInline(u.tokens):u.text);t+=r?this.renderer.paragraph(p):p;continue}default:{const A='Token with "'+u.type+'" type was not found.';if(this.options.silent){console.error(A);return}else throw new Error(A)}}}return t}parseInline(n,r){r=r||this.renderer;let t="",i,s,a;const o=n.length;for(i=0;i<o;i++){if(s=n[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(a=this.options.extensions.renderers[s.type].call({parser:this},s),a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){t+=a||"";continue}switch(s.type){case"escape":{t+=r.text(s.text);break}case"html":{t+=r.html(s.text);break}case"link":{t+=r.link(s.href,s.title,this.parseInline(s.tokens,r));break}case"image":{t+=r.image(s.href,s.title,s.text);break}case"strong":{t+=r.strong(this.parseInline(s.tokens,r));break}case"em":{t+=r.em(this.parseInline(s.tokens,r));break}case"codespan":{t+=r.codespan(s.text);break}case"br":{t+=r.br();break}case"del":{t+=r.del(this.parseInline(s.tokens,r));break}case"text":{t+=r.text(s.text);break}default:{const c='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(c);return}else throw new Error(c)}}}return t}}class Hooks{constructor(n){this.options=n||defaults}preprocess(n){return n}postprocess(n){return n}}b(Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));var I,E,R,L;class Marked{constructor(...n){S(this,I);S(this,R);b(this,"defaults",getDefaults());b(this,"options",this.setOptions);b(this,"parse",z(this,I,E).call(this,Lexer.lex,Parser.parse));b(this,"parseInline",z(this,I,E).call(this,Lexer.lexInline,Parser.parseInline));b(this,"Parser",Parser);b(this,"parser",Parser.parse);b(this,"Renderer",Renderer);b(this,"TextRenderer",TextRenderer);b(this,"Lexer",Lexer);b(this,"lexer",Lexer.lex);b(this,"Tokenizer",Tokenizer);b(this,"Slugger",Slugger);b(this,"Hooks",Hooks);this.use(...n)}walkTokens(n,r){let t=[];for(const i of n)switch(t=t.concat(r.call(this,i)),i.type){case"table":{for(const s of i.header)t=t.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)t=t.concat(this.walkTokens(a.tokens,r));break}case"list":{t=t.concat(this.walkTokens(i.items,r));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{t=t.concat(this.walkTokens(i[s],r))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,r)))}return t}use(...n){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{const i={...t};if(i.async=this.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=a.apply(this,o)),c}:r.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[s.level]?r[s.level].unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),t.renderer){const s=this.defaults.renderer||new Renderer(this.defaults);for(const a in t.renderer){const o=s[a];s[a]=(...c)=>{let h=t.renderer[a].apply(s,c);return h===!1&&(h=o.apply(s,c)),h}}i.renderer=s}if(t.tokenizer){const s=this.defaults.tokenizer||new Tokenizer(this.defaults);for(const a in t.tokenizer){const o=s[a];s[a]=(...c)=>{let h=t.tokenizer[a].apply(s,c);return h===!1&&(h=o.apply(s,c)),h}}i.tokenizer=s}if(t.hooks){const s=this.defaults.hooks||new Hooks;for(const a in t.hooks){const o=s[a];Hooks.passThroughHooks.has(a)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(t.hooks[a].call(s,c)).then(d=>o.call(s,d));const h=t.hooks[a].call(s,c);return o.call(s,h)}:s[a]=(...c)=>{let h=t.hooks[a].apply(s,c);return h===!1&&(h=o.apply(s,c)),h}}i.hooks=s}if(t.walkTokens){const s=this.defaults.walkTokens;i.walkTokens=function(a){let o=[];return o.push(t.walkTokens.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}}I=new WeakSet,E=function(n,r){return(t,i,s)=>{typeof i=="function"&&(s=i,i=null);const a={...i};i={...this.defaults,...a};const o=z(this,R,L).call(this,i.silent,i.async,s);if(typeof t>"u"||t===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(checkDeprecations(i,s),i.hooks&&(i.hooks.options=i),s){const c=i.highlight;let h;try{i.hooks&&(t=i.hooks.preprocess(t)),h=n(t,i)}catch(p){return o(p)}const d=p=>{let u;if(!p)try{i.walkTokens&&this.walkTokens(h,i.walkTokens),u=r(h,i),i.hooks&&(u=i.hooks.postprocess(u))}catch(k){p=k}return i.highlight=c,p?o(p):s(null,u)};if(!c||c.length<3||(delete i.highlight,!h.length))return d();let g=0;this.walkTokens(h,p=>{p.type==="code"&&(g++,setTimeout(()=>{c(p.text,p.lang,(u,k)=>{if(u)return d(u);k!=null&&k!==p.text&&(p.text=k,p.escaped=!0),g--,g===0&&d()})},0))}),g===0&&d();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then(c=>n(c,i)).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>r(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(o);try{i.hooks&&(t=i.hooks.preprocess(t));const c=n(t,i);i.walkTokens&&this.walkTokens(c,i.walkTokens);let h=r(c,i);return i.hooks&&(h=i.hooks.postprocess(h)),h}catch(c){return o(c)}}},R=new WeakSet,L=function(n,r,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/this.`,n){const s="<p>An error occurred:</p><pre>"+escape(i.message+"",!0)+"</pre>";if(r)return Promise.resolve(s);if(t){t(null,s);return}return s}if(r)return Promise.reject(i);if(t){t(i);return}throw i}};const markedInstance=new Marked(defaults);function marked(l,n,r){return markedInstance.parse(l,n,r)}marked.options=marked.setOptions=function(l){return markedInstance.setOptions(l),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=getDefaults;marked.defaults=defaults;marked.use=function(...l){return markedInstance.use(...l),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(l,n){return markedInstance.walkTokens(l,n)};marked.parseInline=markedInstance.parseInline;marked.Parser=Parser;marked.parser=Parser.parse;marked.Renderer=Renderer;marked.TextRenderer=TextRenderer;marked.Lexer=Lexer;marked.lexer=Lexer.lex;marked.Tokenizer=Tokenizer;marked.Slugger=Slugger;marked.Hooks=Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;Parser.parse;Lexer.lex;const svg_1="/2904f250.aboutBox关闭.svg",welcomeText$1=`# 关于\r
\r
本项目使用了marked.js来快速转换Markdown=>HTML，并且能够实时预览效果，不需要额外的操作即可体验到十分不错的在线markdown实时预览体验<br>\r
\r
## 什么是markdown?\r
\r
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;和word不同，markdown是文本标记语言，它会把所有操作都以文本的形式展现出来  \r
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;例如你想写一个标题，你在word里可能得点击一下右上角的标题，但是在markdown里则是通过写在“#”后来表示这是一个标题文本  \r
例如：\r
\`\`\`md\r
# 我是标题\r
\`\`\`\r
&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;如果你想写一段代码区，在word里会比较难实现，但是在markdown里，你只需要用两个\`\`\`包裹住代码即可  \r
\`\`\`js\r
    \`\`\`js\r
    alert("welcome to markdown")\r
    \`\`\`\r
\`\`\`\r
\r
\r
如果你还不了解什么是markdown语法，那请[点我了解markdown语法](https://markdown.com.cn/intro.html)  \r
\r
## 为什么要使用markdown?\r
+ 足够快捷，方便，适合写博客\r
+ word排版容易乱， markdown舍弃了一些复杂的功能，  \r
  换来了一定程度的快捷\r
+ 输入代码足够容易，并支持高亮\r
+ 支持嵌入LATEX(word其实也可以)\r
+ 背靠HTML语法，想你所想，做你所做\r
+ ~~当然啦是颜狗最爱ヾ(•ω•\`)o~~\r
\r
## Todo\r
+ <s>增加PDF导出</s>\r
+ <s>增加代码高亮</s>\r
+ <s>LATEX公式支持</s>\r
+ <s>增加快捷键Ctrl+B加粗和Ctrl+Alt+C居中</s>\r
+ 像[jupyter](https://jupyter.org/)那样支持一行一行的运行JS/Python脚本(基于[WASM](https://developer.mozilla.org/zh-CN/docs/WebAssembly))\r
+ 增加设置按钮以配置脚本注入和换行等规则\r
+ Img图片支持\r
+ 替换成Vscode前端编辑器，加入完整的快捷键提示支持\r
\r
## 教程\r
+ LATEX请写在用$$中间  \r
例如 $\\lambda$ [知乎:LaTeX数学公式、常用符号大全](https://zhuanlan.zhihu.com/p/510451940)\r
+ mermaid请见官网[https://mermaid.js.org/intro/](https://mermaid.js.org/intro/)\r
\r
## 新增特性\r
+ 右对齐可以用 "右边对齐".RIGHT \r
+ 红色文字可以用 "我是红色的耶".RED &nbsp;\r
+ 注意！最后必须有一个**空格**表示结束\r
+ [[DEV]](#)支持脚本注入，请用script标签包裹\r
+ mermaid 流程图支持！\r
## 作者\r
\r
**Bigonion**\r
\r
## 开源协议\r
/*  \r
\\* @Author bigonion  \r
\\* @Copyright 2022© 至今  \r
*/  \r
**MIT**\r
\r
## Namespace \r
[https://github.com/LiWeny16/MarkdownOnline](https://github.com/LiWeny16/MarkdownOnline)  \r
[https://bigonion.cn](https://bigonion.cn)\r
\r
\r
`,aboutBox=()=>{let l=`
<div class="closeBox" id="closeAbout">
<img id="closeAboutSvg" class="closeSvg" src=${svg_1} alt="">
</div>
`,n=welcomeText$1;document.getElementById("aboutMd").innerHTML=l+r(n);function r(t){return console.log(t),marked.parse(t)}document.getElementById("closeAboutSvg").addEventListener("click",()=>{document.getElementById("aboutBox").style.display="none"}),document.getElementById("aboutBox").addEventListener("click",t=>{t.target==document.getElementById("markdownParser")&&(document.getElementById("aboutBox").style.display="none")}),document.getElementById("showAbout").addEventListener("click",()=>{document.getElementById("aboutBox").style.display="block",document.body.style.background="#00000066"})},welcomeText=`# "新一代的$“Markdown^+”$编辑器".RED \r
\r
\r
# 你好，我是标题\r
\r
## 你好，我是二级标题\r
\r
你好，我是正文  \r
"你好,我是markdown扩展语法".RIGHT \r
\r
\`正文换行需要结尾打两个空格\r
如果不打空格，就不换行\`\r
\r
你好,我是LATEX  \r
\r
$$\r
\\begin{bmatrix}\r
1&2&3\\\\\r
4&5&6\\\\\r
7&8&9\r
\\end{bmatrix}\r
*\r
\\begin{bmatrix}\r
1&2&3\\\\\r
4&5&6\\\\\r
7&8&9\r
\\end{bmatrix}=?\r
$$\r
\r
<br>\r
\r
\r
\r
我下面是分割线\r
\r
---\r
\r
| 我      | 是    | \r
| -        |  -     |\r
| 表      |   格  |\r
\r
我是 **强调语句**\r
\r
[我是链接](https://bigonion.cn)\r
\r
### 我是扩展语法\r
\r
"![我是图片](http://bigonion.cn/background/wallheaven.jfif)\r
![我是图片](http://bigonion.cn/background/wallheaven.jfif)\r
![我是图片](http://bigonion.cn/background/wallheaven.jfif)\r
![我是图片](http://bigonion.cn/background/wallheaven.jfif)".GRID4 \r
\r
\r
\r
\`\`\`js\r
// 我是代码\r
// 创建模型  \r
const model = tf.sequential();  \r
model.add(tf.layers.dense({units: 1, inputShape: [1]}));  \r
  \r
// 编译模型  \r
model.compile({loss: 'meanSquaredError', optimizer: 'sgd'});  \r
  \r
// 准备训练数据  \r
const xs = tf.tensor2d([[0], [1], [2], [3], [4], [5]], [6, 1]);  \r
const ys = tf.tensor2d([[1], [3], [5], [7], [9], [11]], [6, 1]);  \r
  \r
// 训练模型  \r
model.fit(xs, ys, {epochs: 100}).then(() => {  \r
  // 使用模型进行预测  \r
  const prediction = model.predict(tf.tensor2d([6], [1, 1]));  \r
    \r
  // 打印预测结果  \r
  prediction.data().then((result) => {  \r
    console.log(result); // 输出 12.002  \r
  });  \r
});  \r
\`\`\`\r
     \r
                \r
\r
我是mermaid**流程图表** \r
\r
\r
"sequenceDiagram\r
    participant Alice\r
    participant Bob\r
    Alice->>John: Hello John, how are you?\r
    loop Healthcheck\r
        John->>John: Fight against hypochondria\r
    end\r
    Note right of John: Rational thoughts <br/>prevail!\r
    John-->>Alice: Great!\r
    John->>Bob: How about you?\r
    Bob-->>John: Jolly good!".mermaid `;function replaceAsync(l,n,r){try{if(typeof r=="function"){var t=[];return String.prototype.replace.call(l,n,function(){return t.push(r.apply(void 0,arguments)),""}),Promise.all(t).then(function(i){return String.prototype.replace.call(l,n,function(){return i.shift()})})}else return Promise.resolve(String.prototype.replace.call(l,n,r))}catch(i){return Promise.reject(i)}}const response="",index="";window.onload=()=>{allInit$1()};function allInit$1(){new settingsClass().settingsAllInit(),blankTextInit(),mdConverter$1(),triggerConverterEvent(),exportToPdfEvent(),dragFile(),aboutBox(),enableFastKeyEvent()}async function mdConverter$1(l=!0){let n=getMdText();n=await clueParser(n),n=await latexParse2(n),n=await latexParse(n),n=markedParse(n),enableScript(n),preViewText(n),l&&restoreText(),hljs.highlightAll()}class settingsClass{constructor(){}markedInit(){marked$1.use({mangle:!1,headerIds:!1,strict:!1})}mermaidInit(){mermaid.initialize({securityLevel:"loose"}),mermaid.mermaidAPI.initialize({startOnLoad:!1})}hljsInit(){hljs.configure({ignoreUnescapedHTML:!0})}settingsAllInit(){this.markedInit(),this.mermaidInit(),this.hljsInit()}static newSettings(){return new this}}function clueParser(l){return new Promise(async n=>{l=l.replace(/\n/g,">br");const r=/".*?"\..*?\s/g,t=/".*?"/g,i=/\..*?\s/g,s=/\s.*?\./g,a=new RegExp('(?<=").*(?=")',"g");if(l){l=await replaceAsync(l,r,o);async function o(c,h){var d="f",g,p;if(c.match(t)&&(g=c.match(a)[0]),c.match(i)&&(c=reverseString(c),p=c.match(s)[0],p=reverseString(p),p=p.replace(/(\s)|(\.)/g,"")),g=g.replace(/\>br/g,`
`),p=="mermaid")try{d=`${await mermaidParse2(g,h)}`}catch(u){d=`<div class='RED P5'> MERMAID ERROR! </div>  <pre><code class="language-js hljs language-javascript"><span class="hljs-number">${u}</span></code></pre>`}else d=`<div class="${p}">${markedParse(g)}</div>`;return d}}l=l.replace(/\>br/g,`
`),n(l)})}async function mermaidParse2(l,n){if(await mermaid.parse(l)){const{svg:t}=await mermaid.mermaidAPI.render("seq_"+n,l);return t}else return"err"}function latexParse2(l,n=!0){return l=l.replace(/\n/g,"<!br"),new Promise(r=>{let t=/\$\$.*?\$\$/g,i=new RegExp("(?<=(\\$\\$))(.+?)(?=(\\$\\$))","g");l&&(l=l.replace(t,s=>{if(s.match(i))s=s.match(i)[0],s=s.replace(/\<\!br/g,"");else return"";if(s){var a=katex.renderToString(s,{throwOnError:!1,strict:!1});return n&&(a=`<center>${a}</center>`),a}else return""}),l=l.replace(/\<\!br/g,`
`)),r(l)})}function latexParse(l){return new Promise(n=>{let r=/\$.*?\$/g,t=new RegExp("(?<=\\$)(.+?)(?=\\$)","g"),i=new Array,s=l,a=l.match(r);getRegIndex(l,r);let o="";if(a)try{a.forEach((c,h)=>{c=c.match(t),c?i[h]=katex.renderToString(c[0],{throwOnError:!1,strict:!1}):i[h]="<span style='color:#cc0000;'>ERR_NULL</span>"}),l=l.replace(r,"<!temp?.!>"),l=l.split("<!temp?.!>"),i=[...i,""];for(let c=0;c<=l.length-1;c++)o+=l[c]+i[c],c==l.length-1&&n(o)}catch(c){return console.log(c),5}else n(s)})}function markedParse(l){return marked$1.parse(l)}function writeMdText(l){document.getElementById("md-area").value=l}function getMdText(){return document.getElementById("md-area").value}function preViewText(l){document.getElementById("view-area").innerHTML=l}function getRememberText(){let l=kit.getCookie("contentText").replace(/\<\? br \?\>/g,`
`);return l=l.replace(/\<\? semicolon \?\>/g,";"),l}function restoreText(){let l=getMdText();l=l.replace(/\n/g,"<? br ?>"),l=l.replace(/\;/g,"<? semicolon ?>"),kit.setCookie("contentText",l,30,"/","md.bigonion.cn"),kit.setCookie("contentText",l,30,"/","127.0.0.1")}function fillInRemeText$1(){let l=getRememberText();return writeMdText(l),l}function getRegIndex(l,n){return Array.from(l.matchAll(n),t=>t.index)}function myPrint(){let l=document.getElementById("view-area").innerHTML;console.log(l),window.document.body.innerHTML=`<div class="markdown-body">${l}</div>`,kit.sleep(250).then(()=>{window.print(),location.reload()})}function enableFastKeyEvent(){document.addEventListener("keydown",l=>{l.stopPropagation();let n=document.getElementById("md-area");l.ctrlKey&&l.key=="b"&&replaceSelection(n,"**","**"),l.key=="c"&&l.altKey&&replaceSelection(n,"<center>","</center>")})}function enableScript(md){md=md?md.match(new RegExp("(?<=(\\<script\\>))(.+?)(?=(\\<\\/script\\>))","g")):"",md&&md.forEach(e=>{e=e.match(/alert\(.*?\)/g)?"":e,eval(e)})}function replaceSelection(l,n,r){var t=l.selectionStart,i=l.selectionEnd;if(console.log(t,i),t==i)return"";temp=l.value.substr(0,t)+n+l.value.substring(t,i)+r+l.value.substring(i,l.value.length),l.value=temp,console.log(l.value.substring(t,i)),console.log(l.value.substring(t,i).length),l.setSelectionRange(t,i+n.length+r.length)}function reverseString(l){return l.split("").reverse().join("")}function triggerConverterEvent(){document.getElementById("md-area").addEventListener("keyup",()=>{mdConverter$1()}),document.getElementById("md-area").addEventListener("blur",()=>{mdConverter$1()})}function blankTextInit(){kit.getCookie("contentText")?fillInRemeText$1():writeMdText(welcomeText)}function exportToPdfEvent(){document.getElementById("pdfButton").addEventListener("click",()=>{myPrint()})}
